<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<HBox prefHeight="550.0" prefWidth="900.0" stylesheets="@../style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.projectakhirbd.Auth.LoginSignUpController">
    <!-- Left Panel: Welcome Back! -->
    <VBox alignment="CENTER" prefHeight="200.0" prefWidth="450.0" styleClass="welcome-panel" stylesheets="@../style.css">
        <children>
            <Label styleClass="welcome-text-1" text="Welcome back!">
                <font>
                    <Font name="System Bold" size="40.0" />
                </font>
            </Label>
            <Label styleClass="welcome-text-2" text="You can sign in to access with your&#10;existing account.">
                <font>
                    <Font size="18.0" />
                </font>
                <VBox.margin>
                    <Insets top="15.0" />
                </VBox.margin>
            </Label>
        </children>
        <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
        </padding>
    </VBox>

    <!-- Right Panel: Form Container (Sign In / Sign Up) -->
    <VBox alignment="CENTER" prefHeight="200.0" prefWidth="450.0" styleClass="right-panel" stylesheets="@../style.css">
        <StackPane stylesheets="@../style.css" HBox.hgrow="ALWAYS">
            <!-- Sign In Form -->
            <VBox fx:id="signInForm" alignment="CENTER" styleClass="form-panel" stylesheets="@../style.css">
                <children>
                    <Label styleClass="form-title" stylesheets="@../style.css" text="Sistem Sekolah">
                        <font>
                            <Font name="System Bold" size="32.0" />
                        </font>
                        <VBox.margin>
                            <Insets bottom="40.0" />
                        </VBox.margin>
                    </Label>
                    <TextField fx:id="usernameField" promptText="NRP or Email" styleClass="custom-text-field" stylesheets="@../style.css">
                        <VBox.margin>
                            <Insets bottom="20.0" />
                        </VBox.margin>
                    </TextField>
                    <PasswordField fx:id="passwordField" promptText="Password" styleClass="custom-text-field" stylesheets="@../style.css">
                        <VBox.margin>
                            <Insets bottom="20.0" />
                        </VBox.margin>
                    </PasswordField>
                    <ComboBox fx:id="roleComboBox" promptText="Select Role" styleClass="custom-combo-box">
                        <items>
                            <FXCollections fx:factory="observableArrayList">
                                <String fx:value="Guru" />
                                <String fx:value="Siswa" />
                                <String fx:value="Admin" />
                            </FXCollections>
                        </items>
                        <VBox.margin>
                            <Insets bottom="20.0" />
                        </VBox.margin>
                    </ComboBox>
                    <HBox alignment="CENTER_LEFT" stylesheets="@../style.css" VBox.vgrow="NEVER">
                        <children>
                            <CheckBox mnemonicParsing="false" styleClass="remember-me-checkbox" text="Remember me" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Hyperlink onAction="#handleForgotPassword" styleClass="forgot-password-link" text="Forgot password?" />
                        </children>
                        <VBox.margin>
                            <Insets bottom="30.0" />
                        </VBox.margin>
                    </HBox>
                    <Button fx:id="signInButton" mnemonicParsing="false" onAction="#handleLogIn" prefHeight="45.0" prefWidth="280.0" styleClass="action-button-primary" stylesheets="@../style.css" text="Log In">
                        <font>
                            <Font name="System Bold" size="18.0" />
                        </font>
                        <VBox.margin>
                            <Insets bottom="40.0" />
                        </VBox.margin>
                    </Button>
                    <HBox alignment="CENTER" stylesheets="@../style.css" VBox.vgrow="NEVER">
                        <children>
                            <Label styleClass="new-here-text" text="New here?" />
                            <Hyperlink onAction="#showSignUpForm" styleClass="switch-form-link" text="Create an Account" />
                        </children>
                    </HBox>
                    <Label fx:id="loginMessageLabel" styleClass="message-label" stylesheets="@../style.css" textFill="RED">
                        <VBox.margin>
                            <Insets top="15.0" />
                        </VBox.margin>
                    </Label>
                </children>
                <padding>
                    <Insets bottom="30.0" left="40.0" right="40.0" top="30.0" />
                </padding>
            </VBox>

            <!-- Sign Up Form (Hidden by default) -->
            <VBox fx:id="signUpForm" alignment="CENTER" managed="false" styleClass="form-panel" stylesheets="@../style.css" visible="false">
                <children>
                    <Label styleClass="form-title" text="Create Account">
                        <font>
                            <Font name="System Bold" size="32.0" />
                        </font>
                        <VBox.margin>
                            <Insets bottom="30.0" />
                        </VBox.margin>
                    </Label>
                    <TextField fx:id="signUpUsernameField" promptText="Choose a Username" styleClass="custom-text-field">
                        <VBox.margin>
                            <Insets bottom="15.0" />
                        </VBox.margin>
                    </TextField>
                    <TextField fx:id="signUpEmailField" promptText="Email Address" styleClass="custom-text-field">
                        <VBox.margin>
                            <Insets bottom="15.0" />
                        </VBox.margin>
                    </TextField>
                    <PasswordField fx:id="signUpPasswordField" promptText="Password" styleClass="custom-text-field">
                        <VBox.margin>
                            <Insets bottom="15.0" />
                        </VBox.margin>
                    </PasswordField>
                    <PasswordField fx:id="signUpConfirmPasswordField" promptText="Confirm Password" styleClass="custom-text-field">
                        <VBox.margin>
                            <Insets bottom="15.0" />
                        </VBox.margin>
                    </PasswordField>
                    <ComboBox fx:id="signUpRoleComboBox" promptText="Select Role" styleClass="custom-combo-box">
                        <items>
                            <FXCollections fx:factory="observableArrayList">
                                <String fx:value="Guru" />
                                <String fx:value="Siswa" />
                                <String fx:value="Admin" />
                            </FXCollections>
                        </items>
                        <VBox.margin>
                            <Insets bottom="30.0" />
                        </VBox.margin>
                    </ComboBox>
                    <Button fx:id="registerButton" mnemonicParsing="false" onAction="#handleSignUp" prefHeight="45.0" prefWidth="280.0" styleClass="action-button-green" text="Sign Up">
                        <font>
                            <Font name="System Bold" size="18.0" />
                        </font>
                        <VBox.margin>
                            <Insets bottom="40.0" />
                        </VBox.margin>
                    </Button>
                    <HBox alignment="CENTER" VBox.vgrow="NEVER">
                        <children>
                            <Label styleClass="new-here-text" text="Already have an account?" />
                            <Hyperlink onAction="#showLogInForm" styleClass="switch-form-link" text="Sign In" />
                        </children>
                    </HBox>
                    <Label fx:id="signUpMessageLabel" styleClass="message-label" textFill="RED">
                        <VBox.margin>
                            <Insets top="15.0" />
                        </VBox.margin>
                    </Label>
                </children>
                <padding>
                    <Insets bottom="30.0" left="40.0" right="40.0" top="30.0" />
                </padding>
            </VBox>
        </StackPane>
    </VBox>
</HBox>